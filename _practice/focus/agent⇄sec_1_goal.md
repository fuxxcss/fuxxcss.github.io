---
title: "Agent⇄Sec：目标（Part 1/）"
excerpt: ''

collection: practice
category: 
permalink: /practice/focus/a⇄s-goal
tags: 
  - agent
  - vuln
  - fuzz
  - sast
  - patch

layout: single
read_time: true
author_profile: false
comments: true
share: true
related: true
---

## Agent⇄Sec

（OWASP LLM Top 10）

### 一、目标

Agent⇄Sec目标是利用A4S为S4A赋能，构建解决agent安全问题的agent。首先考虑全部的攻击面：
- agent内部安全，包括底层代码漏洞，各个组件的攻击面。
- agent外部安全，主要是交互时的攻击面。

### 二、实现

两种方式
1. 完全agent
2. 工具辅助agent，

直接rl + fuzzing，效果低下。rl负责变异，fuzzing负责执行和反馈奖励。

知识蒸馏，实现一个完善的slm

掩码是漏洞补丁，预测该补丁
生成时，输入正常代码，输出补丁。

从落地的项目Cursor吸取经验

## 内部安全

底层代码漏洞，各个组件的漏洞。

### 一、底层代码漏洞

agent开发语言Python，Java，JS，和底层库C/C++中的漏洞：
- 内存破坏
- 语义化注入

### 二、认知核心的漏洞

1.越狱攻击
2.提示注入攻击
3.投毒攻击

### 三、感知系统的漏洞

感知系统本身没有漏洞，而是受到agent-环境交互影响。

### 四、行动系统的漏洞

1.供应链攻击
2.使用工具的风险


## 外部安全

### 一、agent-记忆交互

投毒攻击

### 二、agent-环境交互

对抗攻击

### 三、agent-agent交互

1.  **开发“安全测试工具集”**
    *   **静态分析器**：开发一个工具，能够扫描Agent的代码/配置：
        *   识别硬编码的API密钥。
        *   分析Prompt模板是否存在不安全的字符串拼接。
        *   检查工具函数的权限是否过大（如任意文件写入、无鉴权的网络请求）。
        *   审计依赖库的已知漏洞。
    *   **动态模糊测试器**：开发一个智能体，能够对其他Agent进行模糊测试：
        *   生成大量随机、异常、边缘情况的输入。
        *   自动检测Agent的崩溃、异常输出、资源泄露或安全策略绕过。
    *   **提示注入测试引擎**：这是核心中的核心。
        *   收集和构建庞大的提示注入攻击向量库（如来自`garak`, `jailbreakchat`等项目的技术）。
        *   设计一个“红队智能体”，其唯一任务就是尝试通过各种方式（直接注入、间接注入、多轮对话注入）来 jailbreak 目标Agent。
        *   能够自动化地评估注入攻击是否成功（例如，检测输出中是否包含敏感词、是否执行了被禁止的操作）。

2.  **设计“审计智能体”的架构**
    *   你的“审计Agent”本身可能也是一个多智能体系统：
        *   **侦察Agent**：负责收集目标Agent的信息（如暴露了哪些工具、预期的行为是什么）。
        *   **静态分析Agent**：调用上述的静态分析工具。
        *   **动态测试Agent**：负责执行模糊测试和提示注入测试。
        *   **报告Agent**：汇总所有发现，生成人类可读的安全评估报告。